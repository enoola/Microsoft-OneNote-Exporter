d58796bff9882765dd95824241e398e6
const {
  resolveInternalLinks
} = require('../src/linkResolver');
const fs = require('fs-extra');
const path = require('path');
describe('Link Resolver - resolveInternalLinks', () => {
  let testDir;
  let outputBase;
  beforeEach(async () => {
    // Create temporary directory in the project for testing
    testDir = path.join(__dirname, '..', '.test-temp', `test-${Date.now()}`);
    outputBase = path.join(testDir, 'notebook');
    await fs.ensureDir(outputBase);
  });
  afterEach(async () => {
    // Cleanup
    await fs.remove(testDir);
  });
  describe('Standard ID Matching', () => {
    test('resolves links with exact ID match', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Target Page]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Target content');
      const pageIdMap = {
        '{page-1-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={page-2-id}',
            text: 'Target Page'
          }]
        },
        '{page-2-id}': {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Target Page]]');
    });
    test('resolves links with encoded IDs', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Link]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Content');
      const pageId = '{abc-123}';
      const encodedId = encodeURIComponent(pageId);
      const pageIdMap = {
        '{source-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: `onenote:page-id=${encodedId}`,
            text: 'Link'
          }]
        },
        [pageId]: {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Link]]');
    });
  });
  describe('Fuzzy ID Matching', () => {
    test('matches IDs with braces and suffixes stripped', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Target]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Content');
      const pageIdMap = {
        '{source-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            // Link contains UUID without braces
            href: 'onenote:page-id=abc-123-456-789-012345678901',
            text: 'Target'
          }]
        },
        // DOM ID has braces and suffix
        '{abc-123-456-789-012345678901}{1}': {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Target]]');
    });
  });
  describe('Directory Links', () => {
    test('resolves links to section directories', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      const targetSectionDir = path.join(outputBase, 'Section2');
      await fs.ensureDir(sectionDir);
      await fs.ensureDir(targetSectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Section Link]]<!-- onenote-link:link_0 -->');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:section-id={section-2-id}',
            text: 'Section Link'
          }]
        },
        '{section-2-id}': {
          path: targetSectionDir,
          isDir: true,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      // Should not have .md extension for directories
      expect(content).toBe('[[Section2|Section Link]]');
    });
  });
  describe('Comment Cleanup', () => {
    test('removes unresolved link comments', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, 'Some text [[Broken Link]]<!-- onenote-link:link_0 --> more text');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={nonexistent}',
            text: 'Broken Link'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      expect(content).toBe('Some text [[Broken Link]] more text');
      expect(content).not.toContain('<!-- onenote-link:');
    });
    test('removes multiple comment markers', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Link1]]<!-- onenote-link:link_0 --> and [[Link2]]<!-- onenote-link:link_1 -->');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={missing1}',
            text: 'Link1'
          }, {
            id: 'link_1',
            href: 'onenote:page-id={missing2}',
            text: 'Link2'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      expect(content).toBe('[[Link1]] and [[Link2]]');
    });
  });
  describe('Self-referencing Links', () => {
    test('ignores links from a page to itself', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Self Reference]]<!-- onenote-link:link_0 -->');
      const pageIdMap = {
        '{page-1-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={page-1-id}',
            text: 'Self Reference'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      // Should just remove the comment, not replace the link
      expect(content).toBe('[[Self Reference]]');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXNvbHZlSW50ZXJuYWxMaW5rcyIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJkZXNjcmliZSIsInRlc3REaXIiLCJvdXRwdXRCYXNlIiwiYmVmb3JlRWFjaCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJEYXRlIiwibm93IiwiZW5zdXJlRGlyIiwiYWZ0ZXJFYWNoIiwicmVtb3ZlIiwidGVzdCIsInNlY3Rpb25EaXIiLCJwYWdlMVBhdGgiLCJwYWdlMlBhdGgiLCJ3cml0ZUZpbGUiLCJwYWdlSWRNYXAiLCJpc0RpciIsImludGVybmFsTGlua3MiLCJpZCIsImhyZWYiLCJ0ZXh0IiwiY29udGVudCIsInJlYWRGaWxlIiwiZXhwZWN0IiwidG9CZSIsInBhZ2VJZCIsImVuY29kZWRJZCIsImVuY29kZVVSSUNvbXBvbmVudCIsInRhcmdldFNlY3Rpb25EaXIiLCJwYWdlUGF0aCIsIm5vdCIsInRvQ29udGFpbiJdLCJzb3VyY2VzIjpbImxpbmtSZXNvbHZlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVzb2x2ZUludGVybmFsTGlua3MgfSA9IHJlcXVpcmUoJy4uL3NyYy9saW5rUmVzb2x2ZXInKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMtZXh0cmEnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmRlc2NyaWJlKCdMaW5rIFJlc29sdmVyIC0gcmVzb2x2ZUludGVybmFsTGlua3MnLCAoKSA9PiB7XG4gICAgbGV0IHRlc3REaXI7XG4gICAgbGV0IG91dHB1dEJhc2U7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gQ3JlYXRlIHRlbXBvcmFyeSBkaXJlY3RvcnkgaW4gdGhlIHByb2plY3QgZm9yIHRlc3RpbmdcbiAgICAgICAgdGVzdERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICcudGVzdC10ZW1wJywgYHRlc3QtJHtEYXRlLm5vdygpfWApO1xuICAgICAgICBvdXRwdXRCYXNlID0gcGF0aC5qb2luKHRlc3REaXIsICdub3RlYm9vaycpO1xuICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIob3V0cHV0QmFzZSk7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgIGF3YWl0IGZzLnJlbW92ZSh0ZXN0RGlyKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdTdGFuZGFyZCBJRCBNYXRjaGluZycsICgpID0+IHtcbiAgICAgICAgdGVzdCgncmVzb2x2ZXMgbGlua3Mgd2l0aCBleGFjdCBJRCBtYXRjaCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24xJyk7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoc2VjdGlvbkRpcik7XG4gICAgICAgICAgICBjb25zdCBwYWdlMVBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UxLm1kJyk7XG4gICAgICAgICAgICBjb25zdCBwYWdlMlBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UyLm1kJyk7XG5cbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlMVBhdGgsICdbW1RhcmdldCBQYWdlXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+Jyk7XG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTJQYXRoLCAnVGFyZ2V0IGNvbnRlbnQnKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZUlkTWFwID0ge1xuICAgICAgICAgICAgICAgICd7cGFnZS0xLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZTFQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xpbmtfMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnb25lbm90ZTpwYWdlLWlkPXtwYWdlLTItaWR9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdUYXJnZXQgUGFnZSdcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd7cGFnZS0yLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZTJQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2UxUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b0JlKCdbW1NlY3Rpb24xL1BhZ2UyfFRhcmdldCBQYWdlXV0nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGVzdCgncmVzb2x2ZXMgbGlua3Mgd2l0aCBlbmNvZGVkIElEcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24xJyk7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoc2VjdGlvbkRpcik7XG4gICAgICAgICAgICBjb25zdCBwYWdlMVBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UxLm1kJyk7XG4gICAgICAgICAgICBjb25zdCBwYWdlMlBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UyLm1kJyk7XG5cbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlMVBhdGgsICdbW0xpbmtdXTwhLS0gb25lbm90ZS1saW5rOmxpbmtfMCAtLT4nKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlMlBhdGgsICdDb250ZW50Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZCA9ICd7YWJjLTEyM30nO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZElkID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhZ2VJZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3NvdXJjZS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2UxUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaW5rXzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogYG9uZW5vdGU6cGFnZS1pZD0ke2VuY29kZWRJZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0xpbmsnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbcGFnZUlkXToge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYWdlMlBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCByZXNvbHZlSW50ZXJuYWxMaW5rcyhwYWdlSWRNYXAsIG91dHB1dEJhc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUocGFnZTFQYXRoLCAndXRmOCcpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmUoJ1tbU2VjdGlvbjEvUGFnZTJ8TGlua11dJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Z1enp5IElEIE1hdGNoaW5nJywgKCkgPT4ge1xuICAgICAgICB0ZXN0KCdtYXRjaGVzIElEcyB3aXRoIGJyYWNlcyBhbmQgc3VmZml4ZXMgc3RyaXBwZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uRGlyID0gcGF0aC5qb2luKG91dHB1dEJhc2UsICdTZWN0aW9uMScpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTFQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTJQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMi5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTFQYXRoLCAnW1tUYXJnZXRdXTwhLS0gb25lbm90ZS1saW5rOmxpbmtfMCAtLT4nKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlMlBhdGgsICdDb250ZW50Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3NvdXJjZS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2UxUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaW5rXzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluayBjb250YWlucyBVVUlEIHdpdGhvdXQgYnJhY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnb25lbm90ZTpwYWdlLWlkPWFiYy0xMjMtNDU2LTc4OS0wMTIzNDU2Nzg5MDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1RhcmdldCdcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIERPTSBJRCBoYXMgYnJhY2VzIGFuZCBzdWZmaXhcbiAgICAgICAgICAgICAgICAne2FiYy0xMjMtNDU2LTc4OS0wMTIzNDU2Nzg5MDF9ezF9Jzoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYWdlMlBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCByZXNvbHZlSW50ZXJuYWxMaW5rcyhwYWdlSWRNYXAsIG91dHB1dEJhc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUocGFnZTFQYXRoLCAndXRmOCcpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmUoJ1tbU2VjdGlvbjEvUGFnZTJ8VGFyZ2V0XV0nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnRGlyZWN0b3J5IExpbmtzJywgKCkgPT4ge1xuICAgICAgICB0ZXN0KCdyZXNvbHZlcyBsaW5rcyB0byBzZWN0aW9uIGRpcmVjdG9yaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpciA9IHBhdGguam9pbihvdXRwdXRCYXNlLCAnU2VjdGlvbjEnKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24yJyk7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoc2VjdGlvbkRpcik7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIodGFyZ2V0U2VjdGlvbkRpcik7XG4gICAgICAgICAgICBjb25zdCBwYWdlUGF0aCA9IHBhdGguam9pbihzZWN0aW9uRGlyLCAnUGFnZTEubWQnKTtcblxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhZ2VQYXRoLCAnW1tTZWN0aW9uIExpbmtdXTwhLS0gb25lbm90ZS1saW5rOmxpbmtfMCAtLT4nKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZUlkTWFwID0ge1xuICAgICAgICAgICAgICAgICd7c291cmNlLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlua18wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICdvbmVub3RlOnNlY3Rpb24taWQ9e3NlY3Rpb24tMi1pZH0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1NlY3Rpb24gTGluaydcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICd7c2VjdGlvbi0yLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogdGFyZ2V0U2VjdGlvbkRpcixcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2VQYXRoLCAndXRmOCcpO1xuICAgICAgICAgICAgLy8gU2hvdWxkIG5vdCBoYXZlIC5tZCBleHRlbnNpb24gZm9yIGRpcmVjdG9yaWVzXG4gICAgICAgICAgICBleHBlY3QoY29udGVudCkudG9CZSgnW1tTZWN0aW9uMnxTZWN0aW9uIExpbmtdXScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDb21tZW50IENsZWFudXAnLCAoKSA9PiB7XG4gICAgICAgIHRlc3QoJ3JlbW92ZXMgdW5yZXNvbHZlZCBsaW5rIGNvbW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpciA9IHBhdGguam9pbihvdXRwdXRCYXNlLCAnU2VjdGlvbjEnKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLmVuc3VyZURpcihzZWN0aW9uRGlyKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZVBhdGgsICdTb21lIHRleHQgW1tCcm9rZW4gTGlua11dPCEtLSBvbmVub3RlLWxpbms6bGlua18wIC0tPiBtb3JlIHRleHQnKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZUlkTWFwID0ge1xuICAgICAgICAgICAgICAgICd7c291cmNlLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlua18wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICdvbmVub3RlOnBhZ2UtaWQ9e25vbmV4aXN0ZW50fScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQnJva2VuIExpbmsnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2VQYXRoLCAndXRmOCcpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmUoJ1NvbWUgdGV4dCBbW0Jyb2tlbiBMaW5rXV0gbW9yZSB0ZXh0Jyk7XG4gICAgICAgICAgICBleHBlY3QoY29udGVudCkubm90LnRvQ29udGFpbignPCEtLSBvbmVub3RlLWxpbms6Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ3JlbW92ZXMgbXVsdGlwbGUgY29tbWVudCBtYXJrZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpciA9IHBhdGguam9pbihvdXRwdXRCYXNlLCAnU2VjdGlvbjEnKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLmVuc3VyZURpcihzZWN0aW9uRGlyKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZVBhdGgsICdbW0xpbmsxXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+IGFuZCBbW0xpbmsyXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzEgLS0+Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3NvdXJjZS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdsaW5rXzAnLCBocmVmOiAnb25lbm90ZTpwYWdlLWlkPXttaXNzaW5nMX0nLCB0ZXh0OiAnTGluazEnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbGlua18xJywgaHJlZjogJ29uZW5vdGU6cGFnZS1pZD17bWlzc2luZzJ9JywgdGV4dDogJ0xpbmsyJyB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCByZXNvbHZlSW50ZXJuYWxMaW5rcyhwYWdlSWRNYXAsIG91dHB1dEJhc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUocGFnZVBhdGgsICd1dGY4Jyk7XG4gICAgICAgICAgICBleHBlY3QoY29udGVudCkudG9CZSgnW1tMaW5rMV1dIGFuZCBbW0xpbmsyXV0nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnU2VsZi1yZWZlcmVuY2luZyBMaW5rcycsICgpID0+IHtcbiAgICAgICAgdGVzdCgnaWdub3JlcyBsaW5rcyBmcm9tIGEgcGFnZSB0byBpdHNlbGYnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uRGlyID0gcGF0aC5qb2luKG91dHB1dEJhc2UsICdTZWN0aW9uMScpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgY29uc3QgcGFnZVBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UxLm1kJyk7XG5cbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlUGF0aCwgJ1tbU2VsZiBSZWZlcmVuY2VdXTwhLS0gb25lbm90ZS1saW5rOmxpbmtfMCAtLT4nKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZUlkTWFwID0ge1xuICAgICAgICAgICAgICAgICd7cGFnZS0xLWlkfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlua18wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICdvbmVub3RlOnBhZ2UtaWQ9e3BhZ2UtMS1pZH0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1NlbGYgUmVmZXJlbmNlJ1xuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVJbnRlcm5hbExpbmtzKHBhZ2VJZE1hcCwgb3V0cHV0QmFzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShwYWdlUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIC8vIFNob3VsZCBqdXN0IHJlbW92ZSB0aGUgY29tbWVudCwgbm90IHJlcGxhY2UgdGhlIGxpbmtcbiAgICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b0JlKCdbW1NlbGYgUmVmZXJlbmNlXV0nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtFQUFFQTtBQUFxQixDQUFDLEdBQUdDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUMvRCxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDOUIsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBRTVCRyxRQUFRLENBQUMsc0NBQXNDLEVBQUUsTUFBTTtFQUNuRCxJQUFJQyxPQUFPO0VBQ1gsSUFBSUMsVUFBVTtFQUVkQyxVQUFVLENBQUMsWUFBWTtJQUNuQjtJQUNBRixPQUFPLEdBQUdGLElBQUksQ0FBQ0ssSUFBSSxDQUFDQyxTQUFTLEVB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
b6a48394f56a6b93830c397e051ec877
const {
  resolveInternalLinks
} = require('../src/linkResolver');
const fs = require('fs-extra');
const path = require('path');
const os = require('os');
describe('Link Resolver - resolveInternalLinks', () => {
  let testDir;
  let outputBase;
  beforeEach(async () => {
    // Create temporary directory for testing
    testDir = path.join(os.tmpdir(), `onenote-test-${Date.now()}`);
    outputBase = path.join(testDir, 'notebook');
    await fs.ensureDir(outputBase);
  });
  afterEach(async () => {
    // Cleanup
    await fs.remove(testDir);
  });
  describe('Standard ID Matching', () => {
    test('resolves links with exact ID match', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Target Page]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Target content');
      const pageIdMap = {
        '{page-1-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={page-2-id}',
            text: 'Target Page'
          }]
        },
        '{page-2-id}': {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Target Page]]');
    });
    test('resolves links with encoded IDs', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Link]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Content');
      const pageId = '{abc-123}';
      const encodedId = encodeURIComponent(pageId);
      const pageIdMap = {
        '{source-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: `onenote:page-id=${encodedId}`,
            text: 'Link'
          }]
        },
        [pageId]: {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Link]]');
    });
  });
  describe('Fuzzy ID Matching', () => {
    test('matches IDs with braces and suffixes stripped', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const page1Path = path.join(sectionDir, 'Page1.md');
      const page2Path = path.join(sectionDir, 'Page2.md');
      await fs.writeFile(page1Path, '[[Target]]<!-- onenote-link:link_0 -->');
      await fs.writeFile(page2Path, 'Content');
      const pageIdMap = {
        '{source-id}': {
          path: page1Path,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            // Link contains UUID without braces
            href: 'onenote:page-id=abc-123-456-789-012345678901',
            text: 'Target'
          }]
        },
        // DOM ID has braces and suffix
        '{abc-123-456-789-012345678901}{1}': {
          path: page2Path,
          isDir: false,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(page1Path, 'utf8');
      expect(content).toBe('[[Section1/Page2|Target]]');
    });
  });
  describe('Directory Links', () => {
    test('resolves links to section directories', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      const targetSectionDir = path.join(outputBase, 'Section2');
      await fs.ensureDir(sectionDir);
      await fs.ensureDir(targetSectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Section Link]]<!-- onenote-link:link_0 -->');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:section-id={section-2-id}',
            text: 'Section Link'
          }]
        },
        '{section-2-id}': {
          path: targetSectionDir,
          isDir: true,
          internalLinks: []
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      // Should not have .md extension for directories
      expect(content).toBe('[[Section2|Section Link]]');
    });
  });
  describe('Comment Cleanup', () => {
    test('removes unresolved link comments', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, 'Some text [[Broken Link]]<!-- onenote-link:link_0 --> more text');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={nonexistent}',
            text: 'Broken Link'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      expect(content).toBe('Some text [[Broken Link]] more text');
      expect(content).not.toContain('<!-- onenote-link:');
    });
    test('removes multiple comment markers', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Link1]]<!-- onenote-link:link_0 --> and [[Link2]]<!-- onenote-link:link_1 -->');
      const pageIdMap = {
        '{source-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={missing1}',
            text: 'Link1'
          }, {
            id: 'link_1',
            href: 'onenote:page-id={missing2}',
            text: 'Link2'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      expect(content).toBe('[[Link1]] and [[Link2]]');
    });
  });
  describe('Self-referencing Links', () => {
    test('ignores links from a page to itself', async () => {
      const sectionDir = path.join(outputBase, 'Section1');
      await fs.ensureDir(sectionDir);
      const pagePath = path.join(sectionDir, 'Page1.md');
      await fs.writeFile(pagePath, '[[Self Reference]]<!-- onenote-link:link_0 -->');
      const pageIdMap = {
        '{page-1-id}': {
          path: pagePath,
          isDir: false,
          internalLinks: [{
            id: 'link_0',
            href: 'onenote:page-id={page-1-id}',
            text: 'Self Reference'
          }]
        }
      };
      await resolveInternalLinks(pageIdMap, outputBase);
      const content = await fs.readFile(pagePath, 'utf8');
      // Should just remove the comment, not replace the link
      expect(content).toBe('[[Self Reference]]');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXNvbHZlSW50ZXJuYWxMaW5rcyIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJvcyIsImRlc2NyaWJlIiwidGVzdERpciIsIm91dHB1dEJhc2UiLCJiZWZvcmVFYWNoIiwiam9pbiIsInRtcGRpciIsIkRhdGUiLCJub3ciLCJlbnN1cmVEaXIiLCJhZnRlckVhY2giLCJyZW1vdmUiLCJ0ZXN0Iiwic2VjdGlvbkRpciIsInBhZ2UxUGF0aCIsInBhZ2UyUGF0aCIsIndyaXRlRmlsZSIsInBhZ2VJZE1hcCIsImlzRGlyIiwiaW50ZXJuYWxMaW5rcyIsImlkIiwiaHJlZiIsInRleHQiLCJjb250ZW50IiwicmVhZEZpbGUiLCJleHBlY3QiLCJ0b0JlIiwicGFnZUlkIiwiZW5jb2RlZElkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidGFyZ2V0U2VjdGlvbkRpciIsInBhZ2VQYXRoIiwibm90IiwidG9Db250YWluIl0sInNvdXJjZXMiOlsibGlua1Jlc29sdmVyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyByZXNvbHZlSW50ZXJuYWxMaW5rcyB9ID0gcmVxdWlyZSgnLi4vc3JjL2xpbmtSZXNvbHZlcicpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcy1leHRyYScpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IG9zID0gcmVxdWlyZSgnb3MnKTtcblxuZGVzY3JpYmUoJ0xpbmsgUmVzb2x2ZXIgLSByZXNvbHZlSW50ZXJuYWxMaW5rcycsICgpID0+IHtcbiAgICBsZXQgdGVzdERpcjtcbiAgICBsZXQgb3V0cHV0QmFzZTtcblxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBDcmVhdGUgdGVtcG9yYXJ5IGRpcmVjdG9yeSBmb3IgdGVzdGluZ1xuICAgICAgICB0ZXN0RGlyID0gcGF0aC5qb2luKG9zLnRtcGRpcigpLCBgb25lbm90ZS10ZXN0LSR7RGF0ZS5ub3coKX1gKTtcbiAgICAgICAgb3V0cHV0QmFzZSA9IHBhdGguam9pbih0ZXN0RGlyLCAnbm90ZWJvb2snKTtcbiAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKG91dHB1dEJhc2UpO1xuICAgIH0pO1xuXG4gICAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gQ2xlYW51cFxuICAgICAgICBhd2FpdCBmcy5yZW1vdmUodGVzdERpcik7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnU3RhbmRhcmQgSUQgTWF0Y2hpbmcnLCAoKSA9PiB7XG4gICAgICAgIHRlc3QoJ3Jlc29sdmVzIGxpbmtzIHdpdGggZXhhY3QgSUQgbWF0Y2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uRGlyID0gcGF0aC5qb2luKG91dHB1dEJhc2UsICdTZWN0aW9uMScpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTFQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTJQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMi5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTFQYXRoLCAnW1tUYXJnZXQgUGFnZV1dPCEtLSBvbmVub3RlLWxpbms6bGlua18wIC0tPicpO1xuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhZ2UyUGF0aCwgJ1RhcmdldCBjb250ZW50Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3BhZ2UtMS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2UxUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaW5rXzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogJ29uZW5vdGU6cGFnZS1pZD17cGFnZS0yLWlkfScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVGFyZ2V0IFBhZ2UnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAne3BhZ2UtMi1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2UyUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVJbnRlcm5hbExpbmtzKHBhZ2VJZE1hcCwgb3V0cHV0QmFzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShwYWdlMVBhdGgsICd1dGY4Jyk7XG4gICAgICAgICAgICBleHBlY3QoY29udGVudCkudG9CZSgnW1tTZWN0aW9uMS9QYWdlMnxUYXJnZXQgUGFnZV1dJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoJ3Jlc29sdmVzIGxpbmtzIHdpdGggZW5jb2RlZCBJRHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uRGlyID0gcGF0aC5qb2luKG91dHB1dEJhc2UsICdTZWN0aW9uMScpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTFQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuICAgICAgICAgICAgY29uc3QgcGFnZTJQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMi5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTFQYXRoLCAnW1tMaW5rXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+Jyk7XG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTJQYXRoLCAnQ29udGVudCcpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlSWQgPSAne2FiYy0xMjN9JztcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWRJZCA9IGVuY29kZVVSSUNvbXBvbmVudChwYWdlSWQpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlSWRNYXAgPSB7XG4gICAgICAgICAgICAgICAgJ3tzb3VyY2UtaWR9Jzoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYWdlMVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlua18wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGBvbmVub3RlOnBhZ2UtaWQ9JHtlbmNvZGVkSWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdMaW5rJ1xuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW3BhZ2VJZF06IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZTJQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2UxUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b0JlKCdbW1NlY3Rpb24xL1BhZ2UyfExpbmtdXScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdGdXp6eSBJRCBNYXRjaGluZycsICgpID0+IHtcbiAgICAgICAgdGVzdCgnbWF0Y2hlcyBJRHMgd2l0aCBicmFjZXMgYW5kIHN1ZmZpeGVzIHN0cmlwcGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpciA9IHBhdGguam9pbihvdXRwdXRCYXNlLCAnU2VjdGlvbjEnKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLmVuc3VyZURpcihzZWN0aW9uRGlyKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UxUGF0aCA9IHBhdGguam9pbihzZWN0aW9uRGlyLCAnUGFnZTEubWQnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UyUGF0aCA9IHBhdGguam9pbihzZWN0aW9uRGlyLCAnUGFnZTIubWQnKTtcblxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhZ2UxUGF0aCwgJ1tbVGFyZ2V0XV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+Jyk7XG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZTJQYXRoLCAnQ29udGVudCcpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlSWRNYXAgPSB7XG4gICAgICAgICAgICAgICAgJ3tzb3VyY2UtaWR9Jzoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYWdlMVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxMaW5rczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlua18wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmsgY29udGFpbnMgVVVJRCB3aXRob3V0IGJyYWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogJ29uZW5vdGU6cGFnZS1pZD1hYmMtMTIzLTQ1Ni03ODktMDEyMzQ1Njc4OTAxJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdUYXJnZXQnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBET00gSUQgaGFzIGJyYWNlcyBhbmQgc3VmZml4XG4gICAgICAgICAgICAgICAgJ3thYmMtMTIzLTQ1Ni03ODktMDEyMzQ1Njc4OTAxfXsxfSc6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogcGFnZTJQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2UxUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b0JlKCdbW1NlY3Rpb24xL1BhZ2UyfFRhcmdldF1dJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0RpcmVjdG9yeSBMaW5rcycsICgpID0+IHtcbiAgICAgICAgdGVzdCgncmVzb2x2ZXMgbGlua3MgdG8gc2VjdGlvbiBkaXJlY3RvcmllcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24xJyk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRTZWN0aW9uRGlyID0gcGF0aC5qb2luKG91dHB1dEJhc2UsICdTZWN0aW9uMicpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgYXdhaXQgZnMuZW5zdXJlRGlyKHRhcmdldFNlY3Rpb25EaXIpO1xuICAgICAgICAgICAgY29uc3QgcGFnZVBhdGggPSBwYXRoLmpvaW4oc2VjdGlvbkRpciwgJ1BhZ2UxLm1kJyk7XG5cbiAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYWdlUGF0aCwgJ1tbU2VjdGlvbiBMaW5rXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3NvdXJjZS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xpbmtfMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnb25lbm90ZTpzZWN0aW9uLWlkPXtzZWN0aW9uLTItaWR9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdTZWN0aW9uIExpbmsnXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAne3NlY3Rpb24tMi1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHRhcmdldFNlY3Rpb25EaXIsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVJbnRlcm5hbExpbmtzKHBhZ2VJZE1hcCwgb3V0cHV0QmFzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShwYWdlUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIC8vIFNob3VsZCBub3QgaGF2ZSAubWQgZXh0ZW5zaW9uIGZvciBkaXJlY3Rvcmllc1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmUoJ1tbU2VjdGlvbjJ8U2VjdGlvbiBMaW5rXV0nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnQ29tbWVudCBDbGVhbnVwJywgKCkgPT4ge1xuICAgICAgICB0ZXN0KCdyZW1vdmVzIHVucmVzb2x2ZWQgbGluayBjb21tZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24xJyk7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoc2VjdGlvbkRpcik7XG4gICAgICAgICAgICBjb25zdCBwYWdlUGF0aCA9IHBhdGguam9pbihzZWN0aW9uRGlyLCAnUGFnZTEubWQnKTtcblxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhZ2VQYXRoLCAnU29tZSB0ZXh0IFtbQnJva2VuIExpbmtdXTwhLS0gb25lbm90ZS1saW5rOmxpbmtfMCAtLT4gbW9yZSB0ZXh0Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3NvdXJjZS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xpbmtfMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnb25lbm90ZTpwYWdlLWlkPXtub25leGlzdGVudH0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0Jyb2tlbiBMaW5rJ1xuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVJbnRlcm5hbExpbmtzKHBhZ2VJZE1hcCwgb3V0cHV0QmFzZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShwYWdlUGF0aCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b0JlKCdTb21lIHRleHQgW1tCcm9rZW4gTGlua11dIG1vcmUgdGV4dCcpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLm5vdC50b0NvbnRhaW4oJzwhLS0gb25lbm90ZS1saW5rOicpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0ZXN0KCdyZW1vdmVzIG11bHRpcGxlIGNvbW1lbnQgbWFya2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXIgPSBwYXRoLmpvaW4ob3V0cHV0QmFzZSwgJ1NlY3Rpb24xJyk7XG4gICAgICAgICAgICBhd2FpdCBmcy5lbnN1cmVEaXIoc2VjdGlvbkRpcik7XG4gICAgICAgICAgICBjb25zdCBwYWdlUGF0aCA9IHBhdGguam9pbihzZWN0aW9uRGlyLCAnUGFnZTEubWQnKTtcblxuICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhZ2VQYXRoLCAnW1tMaW5rMV1dPCEtLSBvbmVub3RlLWxpbms6bGlua18wIC0tPiBhbmQgW1tMaW5rMl1dPCEtLSBvbmVub3RlLWxpbms6bGlua18xIC0tPicpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlSWRNYXAgPSB7XG4gICAgICAgICAgICAgICAgJ3tzb3VyY2UtaWR9Jzoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYWdlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbExpbmtzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiAnbGlua18wJywgaHJlZjogJ29uZW5vdGU6cGFnZS1pZD17bWlzc2luZzF9JywgdGV4dDogJ0xpbmsxJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJ2xpbmtfMScsIGhyZWY6ICdvbmVub3RlOnBhZ2UtaWQ9e21pc3NpbmcyfScsIHRleHQ6ICdMaW5rMicgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgcmVzb2x2ZUludGVybmFsTGlua3MocGFnZUlkTWFwLCBvdXRwdXRCYXNlKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHBhZ2VQYXRoLCAndXRmOCcpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQmUoJ1tbTGluazFdXSBhbmQgW1tMaW5rMl1dJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1NlbGYtcmVmZXJlbmNpbmcgTGlua3MnLCAoKSA9PiB7XG4gICAgICAgIHRlc3QoJ2lnbm9yZXMgbGlua3MgZnJvbSBhIHBhZ2UgdG8gaXRzZWxmJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkRpciA9IHBhdGguam9pbihvdXRwdXRCYXNlLCAnU2VjdGlvbjEnKTtcbiAgICAgICAgICAgIGF3YWl0IGZzLmVuc3VyZURpcihzZWN0aW9uRGlyKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VQYXRoID0gcGF0aC5qb2luKHNlY3Rpb25EaXIsICdQYWdlMS5tZCcpO1xuXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGFnZVBhdGgsICdbW1NlbGYgUmVmZXJlbmNlXV08IS0tIG9uZW5vdGUtbGluazpsaW5rXzAgLS0+Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJZE1hcCA9IHtcbiAgICAgICAgICAgICAgICAne3BhZ2UtMS1pZH0nOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhZ2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICBpc0RpcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsTGlua3M6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xpbmtfMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnb25lbm90ZTpwYWdlLWlkPXtwYWdlLTEtaWR9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdTZWxmIFJlZmVyZW5jZSdcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhd2FpdCByZXNvbHZlSW50ZXJuYWxMaW5rcyhwYWdlSWRNYXAsIG91dHB1dEJhc2UpO1xuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUocGFnZVBhdGgsICd1dGY4Jyk7XG4gICAgICAgICAgICAvLyBTaG91bGQganVzdCByZW1vdmUgdGhlIGNvbW1lbnQsIG5vdCByZXBsYWNlIHRoZSBsaW5rXG4gICAgICAgICAgICBleHBlY3QoY29udGVudCkudG9CZSgnW1tTZWxmIFJlZmVyZW5jZV1dJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBcUIsQ0FBQyxHQUFHQyxPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDL0QsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQzlCLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRyxFQUFFLEdBQUdILE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFeEJJLFFBQVEsQ0FBQyxzQ0FBc0MsRUFBRSxNQUFNO0VBQ25ELElBQUlDLE9BQU87RUFDWCxJQUFJQyxVQUFVO0VBRWRDLFVBQVUsQ0FBQyxZQUFZO0lBQ25C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